!function(n,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.MoonPhaseWidget=e():n.MoonPhaseWidget=e()}(window,(function(){return function(n){var e={};function t(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return n[o].call(i.exports,i,i.exports,t),i.l=!0,i.exports}return t.m=n,t.c=e,t.d=function(n,e,o){t.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:o})},t.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},t.t=function(n,e){if(1&e&&(n=t(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var i in n)t.d(o,i,function(e){return n[e]}.bind(null,i));return o},t.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(e,"a",e),e},t.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},t.p="",t(t.s=11)}([function(n,e,t){"use strict";const o=window.localStorage||{},i={ip:"104.131.241.248",city:"Gramercy Park",region:"New York",country:"US",loc:"40.7402,-73.9996",org:"AS14061 DigitalOcean, LLC",postal:"10011",timezone:"America/New_York",readme:"https://ipinfo.io/missingauth"};e.a=async function(){let n=function(){const n="localStorageTest";try{return o.setItem(n,n),o.removeItem(n),!0}catch(n){return!1}}(),e=n&&JSON.parse(o.getItem("mph-widget-geodata"));if(e)return e;try{const n=await fetch("https://ipinfo.io/json");n.ok&&(e=await n.json())}catch(n){console.warn(n)}e=e||i;const[t,r]=e.loc.split(",");return Object.assign(e,{latitude:parseFloat(t),longitude:parseFloat(r)}),n&&o.setItem("mph-widget-geodata",JSON.stringify(e)),e}},function(n,e,t){"use strict";e.a=function(n,e){return`\n<div class="mph-widget">\n    <div class="mph-row">\n        <div class="current-date">${n.dateFmt}</div>\n    </div>\n    <div class="mph-row">\n        <div class="current-place">${e.city}, ${e.country}</div>\n    </div>\n    <div class="mph-row">\n        <div class="moon-phase-ico">\n            <img src="${n.phaseIco}" />\n        </div>\n    </div>\n    <div class="mph-row">\n        <div class="phase-name">${n.phase}</div>\n    </div>\n    <div class="mph-row">\n        <div class="zodiac-name">Moon in <strong>${n.zodiac}</strong></div>\n    </div>\n    <div class="mph-row">\n        <div>Set: </div>\n        <div class="moon-time">${n.set}</div>\n    </div>\n    <div class="mph-row">\n        <div>Rise: </div>\n        <div class="moon-time">${n.rise}</div>\n    </div>\n    <div class="mph-row mph-link">\n        <a href="${n.link}" target="_blank">${n.linkLabel}</a>\n    </div>\n</div>\n    `}},function(n,e,t){"use strict";var o=t(0),i=t(1);e.a=class{constructor(n="moon-phase-widget",e=o.a,t=i.a){this.containerId=n,this.el=document.getElementById(n),this.getGeoDataFn=e,this.renderFn=t,this.mount().catch(n=>console.log(n))}async mount(){const n=await this.getGeoDataFn(),e=await this.getMoonPhaseData(n.latitude,n.longitude);this.el.innerHTML=this.renderFn(e,n),this.loadBackgroundColor()}async getMoonPhaseData(n,e){const t=await fetch("https://moonorganizer.com/api/public/moon-phase",{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify({latitude:n,longitude:e,date:new Date})});return await t.json()}loadBackgroundColor(){const n=this.el.dataset.color;n&&this.el.firstElementChild&&(this.el.firstElementChild.style.backgroundColor=n)}}},function(n,e,t){"use strict";n.exports=function(n){var e=[];return e.toString=function(){return this.map((function(e){var t=function(n,e){var t=n[1]||"",o=n[3];if(!o)return t;if(e&&"function"==typeof btoa){var i=(a=o,s=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(c," */")),r=o.sources.map((function(n){return"/*# sourceURL=".concat(o.sourceRoot).concat(n," */")}));return[t].concat(r).concat([i]).join("\n")}var a,s,c;return[t].join("\n")}(e,n);return e[2]?"@media ".concat(e[2],"{").concat(t,"}"):t})).join("")},e.i=function(n,t){"string"==typeof n&&(n=[[null,n,""]]);for(var o={},i=0;i<this.length;i++){var r=this[i][0];null!=r&&(o[r]=!0)}for(var a=0;a<n.length;a++){var s=n[a];null!=s[0]&&o[s[0]]||(t&&!s[2]?s[2]=t:t&&(s[2]="(".concat(s[2],") and (").concat(t,")")),e.push(s))}},e}},function(n,e,t){"use strict";var o,i={},r=function(){return void 0===o&&(o=Boolean(window&&document&&document.all&&!window.atob)),o},a=function(){var n={};return function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(n){t=null}n[e]=t}return n[e]}}();function s(n,e){for(var t=[],o={},i=0;i<n.length;i++){var r=n[i],a=e.base?r[0]+e.base:r[0],s={css:r[1],media:r[2],sourceMap:r[3]};o[a]?o[a].parts.push(s):t.push(o[a]={id:a,parts:[s]})}return t}function c(n,e){for(var t=0;t<n.length;t++){var o=n[t],r=i[o.id],a=0;if(r){for(r.refs++;a<r.parts.length;a++)r.parts[a](o.parts[a]);for(;a<o.parts.length;a++)r.parts.push(v(o.parts[a],e))}else{for(var s=[];a<o.parts.length;a++)s.push(v(o.parts[a],e));i[o.id]={id:o.id,refs:1,parts:s}}}}function l(n){var e=document.createElement("style");if(void 0===n.attributes.nonce){var o=t.nc;o&&(n.attributes.nonce=o)}if(Object.keys(n.attributes).forEach((function(t){e.setAttribute(t,n.attributes[t])})),"function"==typeof n.insert)n.insert(e);else{var i=a(n.insert||"head");if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(e)}return e}var d,u=(d=[],function(n,e){return d[n]=e,d.filter(Boolean).join("\n")});function p(n,e,t,o){var i=t?"":o.css;if(n.styleSheet)n.styleSheet.cssText=u(e,i);else{var r=document.createTextNode(i),a=n.childNodes;a[e]&&n.removeChild(a[e]),a.length?n.insertBefore(r,a[e]):n.appendChild(r)}}function h(n,e,t){var o=t.css,i=t.media,r=t.sourceMap;if(i&&n.setAttribute("media",i),r&&btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),n.styleSheet)n.styleSheet.cssText=o;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(o))}}var f=null,m=0;function v(n,e){var t,o,i;if(e.singleton){var r=m++;t=f||(f=l(e)),o=p.bind(null,t,r,!1),i=p.bind(null,t,r,!0)}else t=l(e),o=h.bind(null,t,e),i=function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(t)};return o(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap)return;o(n=e)}else i()}}n.exports=function(n,e){(e=e||{}).attributes="object"==typeof e.attributes?e.attributes:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=r());var t=s(n,e);return c(t,e),function(n){for(var o=[],r=0;r<t.length;r++){var a=t[r],l=i[a.id];l&&(l.refs--,o.push(l))}n&&c(s(n,e),e);for(var d=0;d<o.length;d++){var u=o[d];if(0===u.refs){for(var p=0;p<u.parts.length;p++)u.parts[p]();delete i[u.id]}}}}},,,,,function(n,e,t){var o=t(10);"string"==typeof o&&(o=[[n.i,o,""]]);var i={insert:"head",singleton:!1};t(4)(o,i);o.locals&&(n.exports=o.locals)},function(n,e,t){(n.exports=t(3)(!1)).push([n.i,".mph-widget {\n    word-break: break-all;\n    position: relative;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    font-size: 18px;\n}\n\n.mph-row {\n    position: relative;\n    display: flex;\n    flex-direction: row;\n    flex-wrap: wrap;\n    justify-content: space-between;\n    align-items: stretch;\n}\n\n.mph-col {\n    width: 300px;\n    flex-grow: 1;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    text-align: center;\n}\n\n.mph-widget .moon-phase-ico {\n    width: 40%;\n    margin: 20px 0;\n}\n  \n.mph-widget .moon-phase-ico img {\n    width: 100%;\n}\n\n.mph-widget .phase-name {\n    font-size: 20px;\n    font-weight: bold;\n}\n\n.mph-widget .current-date {\n    font-weight: bold;\n}\n\n.current-place {\n    font-style: italic;\n}\n\n.zodiac-name {\n    margin-bottom: 10px;\n}\n\n.mph-arrow {\n    width: 30px;\n    margin: 15px 0;\n}\n\nh1 {\n    text-align: center;\n}\n\n@keyframes mph-page-loader {\n    0% { transform: translate(-50%,-50%) rotate(0deg); }\n    100% { transform: translate(-50%,-50%) rotate(360deg); }\n}\n.mph-page-loader div {\n    position: absolute;\n    width: 120px;\n    height: 120px;\n    border: 20px solid #5855cc;\n    border-top-color: transparent;\n    border-radius: 50%;\n}\n.mph-page-loader div {\n    animation: mph-page-loader 1s linear infinite;\n    top: 50%;\n    left: 50%;\n}\n.mph-page-loader {\n    width: 100%;\n    height: 300px;\n    position: relative;\n    transform: translateZ(0) scale(1);\n    backface-visibility: hidden;\n    transform-origin: 0 0;\n    overflow: hidden;\n}",""])},function(n,e,t){"use strict";t.r(e);t(9);var o=t(2);new o.a(void 0,void 0,(function(n,e){return`\n<div class="mph-widget">\n    <div class="mph-row">\n        <div class="mph-col">\n            <div class="current-date">${n.dateFmt}</div>\n            <div class="current-place">${e.city}, ${e.region}, ${e.country}</div>\n            <div class="moon-phase-ico">\n                <img alt="Moon Phase for Today" src="${n.phaseIco}" />\n            </div>\n        </div>\n        <div class="mph-col">\n            <div class="phase-name">${n.phase}</div>\n            <div class="zodiac-name">Moon in <strong>${n.zodiac}</strong></div>\n            <div class="moon-time">Moon Set: ${n.set}</div>\n            <div class="moon-time">Moon Rise: ${n.rise}</div>\n        </div>\n    </div>\n    <div class="mph-arrow">\n<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n\t viewBox="0 0 485 485" fill="#5855CC" style="enable-background:new 0 0 485 485;" xml:space="preserve">\n<g>\n\t<path d="M413.974,71.026C368.171,25.225,307.274,0,242.5,0S116.829,25.225,71.026,71.026C25.225,116.829,0,177.726,0,242.5\n\t\ts25.225,125.671,71.026,171.474C116.829,459.775,177.726,485,242.5,485s125.671-25.225,171.474-71.026\n\t\tC459.775,368.171,485,307.274,485,242.5S459.775,116.829,413.974,71.026z M242.5,455C125.327,455,30,359.673,30,242.5\n\t\tS125.327,30,242.5,30S455,125.327,455,242.5S359.673,455,242.5,455z"/>\n\t<polygon points="242.5,299.791 135.589,193.228 114.411,214.476 242.5,342.148 370.589,214.476 349.411,193.228"/>\n</g>\n</svg>\n</div>\n    <div class="mph-phase-desc">Tommorow the Moon will be in a Waning Gibbous Phase. This is the first phase after the Full Moon occurs. It lasts roughly 7 days with the Moon’s illumination growing smaller each day until the Moon becomes a Last Quarter Moon with a illumination of 50%. The average Moon rise for this phase is between 9am and Midnight depending on the age of the phase. The moon rises later and later each night setting after sunrise in the morning. During this phase the Moon can also be seen in the early morning daylight hours on the western horizon.</div>\n</div>\n    `}))}])}));